<!DOCTYPE HTML>
<html>
    <head lang = 'ko'>
        <title>자유낙하</title>
        <meta charset='UTF-8'>
        <style></style>
    </head>
    <body>
        <p>
            <strong>가속도</strong>
            <input type='number' id='get_a'>(m/s^2)
        </p>
        <p>
            <strong>높이</strong>
            <input type='number' id='get_h'>(m)
        </p>
        <br><button onclick="GetData()">실행</button>
        <canvas id='canvas' width='500' height='1000'></canvas>
        
        <script>
            const canvas = document.getElementById('canvas');
            const ctx = canvas.getContext('2d');
            let g;
            let t = 0;
            let h;
            let v = g*t;
            let s = v*t;
            let sec = 60;
            let span
            let play = false;
            
            let rect = {
                x : 200,
                y : 0,
                draw(){
                    ctx.fillStyle = '#B42500';
                    ctx.fillRect(this.x, this.y, 30, 30);
                }
            }
            rect.draw();
            
            function Play(){
                requestAnimationFrame(Play);
                if (rect.y < h && play === true) {
                    ctx.clearRect(0,0, canvas.width, canvas.height);
                    ctx.fillStyle = '#80FF00';
                    ctx.fillRect(100, 60, 300,5);
                    rect.y += v/60;
                    rect.draw();
                    t++
                    v = g*t/60;
                    console.log('y : %s, v : %s, t : %s', rect.y, v, t);
                } else {
                    span = t/60;
                    console.log('span : %s',span);
                }
            }
            
            function GetData(){
                g = document.getElementById('get_a').value;
                h = document.getElementById('get_h').value;
                rect.y = 0, t = 0;
                Play();
                play = true;
            }
        </script>
    </body>
</html>
